(this["webpackJsonpgoit-react-hw-02-phonebook"]=this["webpackJsonpgoit-react-hw-02-phonebook"]||[]).push([[0],{40:function(e,t,n){},41:function(e,t,n){},67:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(19),s=n.n(r),i=n(12),o=(n(40),n(2)),l="/",u="/movies",h="/movies/:movieId",j=(n(41),n(0)),m=function(){return Object(j.jsx)("header",{className:"AppBar",children:Object(j.jsxs)("nav",{className:"navigation",children:[Object(j.jsx)(i.c,{exact:!0,to:l,className:"link",activeClassName:"activeLink",children:"Home"}),Object(j.jsx)(i.c,{to:u,className:"link",activeClassName:"activeLink",children:"Movies"})]})})},b=n(4),p=n.n(b),d=n(14),v=n(5),f=n(6),O=n(8),x=n(7),g=n(20),y=n.n(g);function w(){return k.apply(this,arguments)}function k(){return(k=Object(d.a)(p.a.mark((function e(){var t,n,a,c=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:"",n=c.length>1&&void 0!==c[1]?c[1]:{},e.prev=2,e.next=5,y()(t,n);case 5:return a=e.sent,e.abrupt("return",a);case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function N(e){return w("movie/".concat(e))}function S(e){return w("/search/movie?query=".concat(e))}function C(e){return w("movie/".concat(e,"/credits"))}function F(e){return w("movie/".concat(e,"/reviews"))}y.a.defaults.baseURL="https://api.themoviedb.org/3/",y.a.defaults.params={api_key:"ccb2e026c3296b8bbba04e490040240a"};n(67);var I=Object(o.f)((function(e){var t=e.movies,n=e.location;return Object(j.jsx)(j.Fragment,{children:t&&Object(j.jsx)("ul",{className:"MoviesList",children:t.map((function(e){return Object(j.jsx)("li",{className:"item",children:Object(j.jsx)(i.c,{to:{pathname:"movies/".concat(e.id),state:{from:n}},children:e.title?e.title:e.name})},e.id)}))})})})),M=function(e){Object(O.a)(n,e);var t=Object(x.a)(n);function n(){var e;Object(v.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={movies:[]},e}return Object(f.a)(n,[{key:"componentDidMount",value:function(){var e=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w("trending/all/day");case 2:t=e.sent,this.setState({movies:t.data.results});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.movies;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h1",{children:"Trending today"}),Object(j.jsx)(I,{movies:e})]})}}]),n}(a.Component),A=n(34),D=n.n(A),_=n(35),L=function(e){Object(O.a)(n,e);var t=Object(x.a)(n);function n(){var e;Object(v.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={value:""},e.handleSubmit=function(t){t.preventDefault(),""!==e.state.value.trim()?(e.props.onSubmit(e.state.value),e.setState({value:""})):_.a.error("This field cannot be empty")},e.handleChange=function(t){e.setState({value:t.target.value})},e}return Object(f.a)(n,[{key:"render",value:function(){return Object(j.jsxs)("form",{onSubmit:this.handleSubmit,className:"SearchForm",children:[Object(j.jsx)("input",{onChange:this.handleChange,value:this.state.value,className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"}),Object(j.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(j.jsx)("span",{className:"SearchForm-button-label",children:"Search"})})]})}}]),n}(a.Component),G=function(e){Object(O.a)(n,e);var t=Object(x.a)(n);function n(){var e;Object(v.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={movies:null},e.handleSearch=function(t){var n=e.props,a=n.history,c=n.match;a.push("".concat(c.url,"?query=").concat(t)),S(t).then((function(t){return e.setState({movies:t.data.results})}))},e}return Object(f.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.location.search;t&&S(D.a.parse(t).query).then((function(t){return e.setState({movies:t.data.results})}))}},{key:"render",value:function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(L,{onSubmit:this.handleSearch}),this.state.movies&&Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(I,{movies:this.state.movies})})]})}}]),n}(a.Component),q=n.p+"static/media/default.2e01288c.jpg",B=n(17),J="http://image.tmdb.org/t/p/w185",P="http://image.tmdb.org/t/p/w45",R=(n(69),function(e){Object(O.a)(n,e);var t=Object(x.a)(n);function n(){var e;Object(v.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={info:null},e}return Object(f.a)(n,[{key:"componentDidMount",value:function(){var e=Object(d.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.movieId,e.next=3,C(t);case 3:n=e.sent,this.setState({info:n.data});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.info;return null===t?Object(j.jsx)(j.Fragment,{}):Object(j.jsx)(j.Fragment,{children:t.cast.length>0?Object(j.jsx)("ul",{className:"CastList",children:t.cast.map((function(t){return Object(j.jsxs)("li",{className:"item",children:[t.profile_path?Object(j.jsx)("img",{src:"".concat(P).concat(t.profile_path),alt:t.original_name,width:"45"}):Object(j.jsx)("img",{src:e.props.defaultImg,alt:"Not found",width:"45"}),t.original_name,Object(j.jsxs)("p",{children:["Character: ",t.character]})]},t.id)}))}):Object(j.jsx)("p",{children:"No info"})})}}]),n}(a.Component));R.defaultProps={defaultImg:q};var T=R,U=function(e){Object(O.a)(n,e);var t=Object(x.a)(n);function n(){var e;Object(v.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={info:null},e}return Object(f.a)(n,[{key:"componentDidMount",value:function(){var e=Object(d.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.movieId,e.next=3,F(t);case 3:n=e.sent,this.setState({info:n.data.results});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.info;return null===e?Object(j.jsx)(j.Fragment,{}):Object(j.jsx)(j.Fragment,{children:e.length>0?Object(j.jsx)("ul",{children:e.map((function(e){var t=e.id,n=e.author,a=e.content;return Object(j.jsxs)("li",{children:[Object(j.jsx)("h4",{children:n}),Object(j.jsx)("p",{children:a})]},t)}))}):Object(j.jsx)("p",{children:"We don't have any reviews for this movie"})})}}]),n}(a.Component),E=(n(70),function(e){Object(O.a)(n,e);var t=Object(x.a)(n);function n(){var e;Object(v.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={},e}return Object(f.a)(n,[{key:"render",value:function(){var e=this.props,t=e.match,n=e.location;return Object(j.jsxs)("div",{className:"movie-other-info",children:[Object(j.jsx)("h3",{className:"title",children:"Additional information"}),Object(j.jsxs)("ul",{className:"list",children:[Object(j.jsx)("li",{className:"item",children:Object(j.jsx)(i.b,{to:{pathname:"".concat(t.url,"/cast"),state:{from:n}},children:"Cast"})}),Object(j.jsx)("li",{className:"item",children:Object(j.jsx)(i.b,{to:{pathname:"".concat(t.url,"/reviews"),state:{from:n}},children:"Reviews"})})]}),Object(j.jsx)(o.a,{path:"".concat(t.url,"/cast"),render:function(e){return Object(j.jsx)(T,Object(B.a)(Object(B.a)({},e),{},{movieId:t.params.movieId}))}}),Object(j.jsx)(o.a,{path:"".concat(t.url,"/reviews"),render:function(e){return Object(j.jsx)(U,Object(B.a)(Object(B.a)({},e),{},{movieId:t.params.movieId}))}})]})}}]),n}(a.Component)),H=Object(o.f)(E),W=(n(71),function(e){var t=e.movie,n=e.defaultImg,a=t.title,c=t.poster_path,r=t.vote_average,s=t.overview,i=t.genres,o=t.release_date,l=10*r,u="".concat(J).concat(c),h=c?u:n,m=o.slice(0,4);return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"movie-main-info",children:[Object(j.jsx)("div",{className:"MovieImg",children:Object(j.jsx)("img",{className:"poster",src:h,alt:a,width:185})}),Object(j.jsxs)("div",{className:"MovieDesc",children:[Object(j.jsxs)("h2",{className:"title",children:[a,"(",m,")"]}),Object(j.jsxs)("p",{className:"text",children:["User score: ",l," %"]}),Object(j.jsx)("h3",{children:"Overview"}),s?Object(j.jsx)("p",{children:s}):Object(j.jsx)("p",{children:"No data"}),Object(j.jsx)("h3",{children:"Genres"}),i&&i.length>0?Object(j.jsx)("p",{children:i.map((function(e){return e.name})).join(" ")}):Object(j.jsx)("p",{children:"No data"})]})]})})}),z=function(e){Object(O.a)(n,e);var t=Object(x.a)(n);function n(){var e;Object(v.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={movie:null},e.handleGoback=function(){var t=e.props,n=t.location,a=t.history;if(n.state&&n.state.from)return a.push(n.state.from);a.push(l)},e}return Object(f.a)(n,[{key:"componentDidMount",value:function(){var e=Object(d.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.movieId,e.next=3,N(t);case 3:(n=e.sent)&&this.setState({movie:n.data});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(j.jsxs)("div",{className:"MovieDetailsPage",children:[Object(j.jsx)("button",{className:"button-back",type:"button",onClick:this.handleGoback,children:"\u2190 Go back"}),null!==this.state.movie&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(W,{movie:this.state.movie,defaultImg:q}),Object(j.jsx)(H,{})]})]})}}]),n}(a.Component);function K(){return Object(j.jsx)("h2",{children:"404 - page not found"})}var Q=function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(m,{}),Object(j.jsxs)(o.c,{children:[Object(j.jsx)(o.a,{exact:!0,path:l,component:M}),Object(j.jsx)(o.a,{path:u,exact:!0,component:G}),Object(j.jsx)(o.a,{path:h,component:z}),Object(j.jsx)(o.a,{component:K})]})]})};s.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(i.a,{children:Object(j.jsx)(Q,{})})}),document.getElementById("root"))}},[[72,1,2]]]);
//# sourceMappingURL=main.266e3d6a.chunk.js.map